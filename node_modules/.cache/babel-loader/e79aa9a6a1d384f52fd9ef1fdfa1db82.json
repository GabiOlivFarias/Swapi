{"remainingRequest":"/home/gabi/JERA/outros/Swapi/node_modules/babel-loader/lib/index.js!/home/gabi/JERA/outros/Swapi/node_modules/eslint-loader/index.js??ref--14-0!/home/gabi/JERA/outros/Swapi/src/plugins/axios.js","dependencies":[{"path":"/home/gabi/JERA/outros/Swapi/src/plugins/axios.js","mtime":1661951552992},{"path":"/home/gabi/JERA/outros/Swapi/babel.config.js","mtime":1661951552984},{"path":"/home/gabi/JERA/outros/Swapi/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/gabi/JERA/outros/Swapi/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/gabi/JERA/outros/Swapi/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8gRnVsbCBjb25maWc6ICBodHRwczovL2dpdGh1Yi5jb20vYXhpb3MvYXhpb3MjcmVxdWVzdC1jb25maWcKCi8qIGVzbGludC1kaXNhYmxlICovCmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHN0b3JlIGZyb20gJy4uL3N0b3JlJzsKY29uc3QgYmFzZUNvbmZpZyA9IHsKICBiYXNlVVJMOiBwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9VUkwsCiAgdGltZW91dDogNjAgKiAxMDAwCn07Cgpjb25zdCBfYXhpb3NJbnN0YW5jZSA9IGF4aW9zLmNyZWF0ZShiYXNlQ29uZmlnKTsKCl9heGlvc0luc3RhbmNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShjb25maWcgPT4gewogIGlmIChzdG9yZS5nZXR0ZXJzLmdldEVtYWlsICYmIHN0b3JlLmdldHRlcnMuZ2V0VG9rZW4pIHsKICAgIGNvbmZpZy5oZWFkZXJzLmNvbW1vbi5VU0VSX0VNQUlMID0gc3RvcmUuZ2V0dGVycy5nZXRFbWFpbDsKICAgIGNvbmZpZy5oZWFkZXJzLmNvbW1vbi5VU0VSX1RPS0VOID0gc3RvcmUuZ2V0dGVycy5nZXRUb2tlbjsKICAgIGNvbmZpZy5oZWFkZXJzLmNvbW1vblsnQ2FjaGUtQ29udHJvbCddID0gJ25vLWNhY2hlJzsKICB9CgogIHJldHVybiBjb25maWc7Cn0sIGVycm9yID0+IHsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKCl9heGlvc0luc3RhbmNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UocmVzcG9uc2UgPT4gewogIGlmIChyZXNwb25zZS5oZWFkZXJzLnRva2VuKSB7CiAgICBzdG9yZS5kaXNwYXRjaCgndXBkYXRlVG9rZW4nLCByZXNwb25zZS5oZWFkZXJzLnRva2VuKTsKICB9CgogIHJldHVybiByZXNwb25zZTsKfSwgZXJyb3IgPT4gewogIHN0b3JlLmRpc3BhdGNoKCdoYW5kbGVFcnJvcicsIGVycm9yKTsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKClBsdWdpbi5pbnN0YWxsID0gZnVuY3Rpb24gKFZ1ZSwgb3B0aW9ucykgewogIFZ1ZS5heGlvcyA9IF9heGlvc0luc3RhbmNlOwogIHdpbmRvdy5heGlvcyA9IF9heGlvc0luc3RhbmNlOwogIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFZ1ZS5wcm90b3R5cGUsIHsKICAgICRheGlvczogewogICAgICBnZXQoKSB7CiAgICAgICAgcmV0dXJuIF9heGlvc0luc3RhbmNlOwogICAgICB9CgogICAgfQogIH0pOwp9OwoKVnVlLnVzZShQbHVnaW4pOwpleHBvcnQgZGVmYXVsdCBQbHVnaW47"},{"version":3,"names":["Vue","axios","store","baseConfig","baseURL","process","env","VUE_APP_API_URL","timeout","_axiosInstance","create","interceptors","request","use","config","getters","getEmail","getToken","headers","common","USER_EMAIL","USER_TOKEN","error","Promise","reject","response","token","dispatch","Plugin","install","options","window","Object","defineProperties","prototype","$axios","get"],"sources":["/home/gabi/JERA/outros/Swapi/src/plugins/axios.js"],"sourcesContent":["// Full config:  https://github.com/axios/axios#request-config\n/* eslint-disable */\nimport Vue from 'vue';\nimport axios from \"axios\";\nimport store from '../store';\n\nconst baseConfig = {\n  baseURL: process.env.VUE_APP_API_URL,\n  timeout: 60 * 1000,\n};\n\nconst _axiosInstance = axios.create(baseConfig);\n\n_axiosInstance.interceptors.request.use(\n  (config) => {\n    if (store.getters.getEmail && store.getters.getToken) {\n      config.headers.common.USER_EMAIL = store.getters.getEmail;\n      config.headers.common.USER_TOKEN = store.getters.getToken;\n      config.headers.common['Cache-Control'] = 'no-cache';\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n_axiosInstance.interceptors.response.use(\n  (response) => {\n    if (response.headers.token) {\n      store.dispatch('updateToken', response.headers.token);\n    }\n    return response;\n  },\n  (error) => {\n    store.dispatch('handleError', error);\n    return Promise.reject(error);\n  }\n);\n\nPlugin.install = function(Vue, options) {\n  Vue.axios = _axiosInstance;\n  window.axios = _axiosInstance;\n  Object.defineProperties(Vue.prototype, {\n    $axios: {\n      get() {\n        return _axiosInstance;\n      }\n    },\n  });\n};\n\nVue.use(Plugin)\n\nexport default Plugin;\n"],"mappings":"AAAA;;AACA;AACA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AAEA,MAAMC,UAAU,GAAG;EACjBC,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC,eADJ;EAEjBC,OAAO,EAAE,KAAK;AAFG,CAAnB;;AAKA,MAAMC,cAAc,GAAGR,KAAK,CAACS,MAAN,CAAaP,UAAb,CAAvB;;AAEAM,cAAc,CAACE,YAAf,CAA4BC,OAA5B,CAAoCC,GAApC,CACGC,MAAD,IAAY;EACV,IAAIZ,KAAK,CAACa,OAAN,CAAcC,QAAd,IAA0Bd,KAAK,CAACa,OAAN,CAAcE,QAA5C,EAAsD;IACpDH,MAAM,CAACI,OAAP,CAAeC,MAAf,CAAsBC,UAAtB,GAAmClB,KAAK,CAACa,OAAN,CAAcC,QAAjD;IACAF,MAAM,CAACI,OAAP,CAAeC,MAAf,CAAsBE,UAAtB,GAAmCnB,KAAK,CAACa,OAAN,CAAcE,QAAjD;IACAH,MAAM,CAACI,OAAP,CAAeC,MAAf,CAAsB,eAAtB,IAAyC,UAAzC;EACD;;EACD,OAAOL,MAAP;AACD,CARH,EASGQ,KAAD,IAAW;EACT,OAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CAXH;;AAcAb,cAAc,CAACE,YAAf,CAA4Bc,QAA5B,CAAqCZ,GAArC,CACGY,QAAD,IAAc;EACZ,IAAIA,QAAQ,CAACP,OAAT,CAAiBQ,KAArB,EAA4B;IAC1BxB,KAAK,CAACyB,QAAN,CAAe,aAAf,EAA8BF,QAAQ,CAACP,OAAT,CAAiBQ,KAA/C;EACD;;EACD,OAAOD,QAAP;AACD,CANH,EAOGH,KAAD,IAAW;EACTpB,KAAK,CAACyB,QAAN,CAAe,aAAf,EAA8BL,KAA9B;EACA,OAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CAVH;;AAaAM,MAAM,CAACC,OAAP,GAAiB,UAAS7B,GAAT,EAAc8B,OAAd,EAAuB;EACtC9B,GAAG,CAACC,KAAJ,GAAYQ,cAAZ;EACAsB,MAAM,CAAC9B,KAAP,GAAeQ,cAAf;EACAuB,MAAM,CAACC,gBAAP,CAAwBjC,GAAG,CAACkC,SAA5B,EAAuC;IACrCC,MAAM,EAAE;MACNC,GAAG,GAAG;QACJ,OAAO3B,cAAP;MACD;;IAHK;EAD6B,CAAvC;AAOD,CAVD;;AAYAT,GAAG,CAACa,GAAJ,CAAQe,MAAR;AAEA,eAAeA,MAAf"}]}